<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cidia • Login</title>
  <link rel="stylesheet" href="css/v98rEHnMmRHt.css">
  <link rel="stylesheet" href="css/stA5PPAZmeti.css">
  <link rel="stylesheet" href="main.css">
  <style>
    /* Add your custom button styles here */
    .card-center-button button {
  padding: 15px 90px; /* Increased horizontal padding */
  border-radius: 5px; /* Adjusted border-radius to round the corners */
  background-color: #1c1d2b;
  color: white;
  border: none;
  cursor: pointer;
  text-shadow: 2px 2px 4px rgba(0, 0, 0, 5.5); /* Added shadow effect */
  margin-right: 10px;
}



    .card-center-button button:hover {
      background-color: #1e1f27;
    }

    .card-center-button p {
      
      margin-top: 10px;
    }
    .notification {
  position: fixed;
  top: 20px;
  right: 20px;
  padding: 10px;
  background-color: #1a6110;
  border: 1px solid #1a6110;
  border-radius: 5px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
  z-index: 1000;
}

.notification.error {
  background-color: #5c0b12;
  border-color: #5c0b12;
  color: #ffffff;
}

    .card-center-button span {
      color: #888;
    }
.register span {
  color: #1c1d2b;
}
#rainfall {
            display: block;
        }
  </style>
</head>
<body>
  <div class="background"></div>
  <div class="container">
    <div class="card-header">
      <h2>Login</h2>
    </div>
    <div class="card-body">
      <div class="card-form">
        
        <div class="credentials">
          <label>Email</label>
          <input type="email" class="card-input" name="email" id="email">
        </div>
        <div class="credentials">
          <label>Password</label>
          <input id="password" type="password" class="card-input" name="password">
        </div>
        <div class="card-center-button">
          <button id="submit">Sign In</button>
      </div>
      <span style="color: #04071a;">Don’t you have an account? <a href="register.html">Register</a></span>

      

      <div id="create-acct" style="display: none;">
        <h1>Create an Account</h1>
        <input id="email-signup" type="email" placeholder="Email *">
        <input id="confirm-email-signup" type="email" placeholder="Confirm Email *">
        <input id="password-signup" type="password" placeholder="Password *">
        <input id="confirm-password-signup" type="password" placeholder="Confirm Password *">
        <button id="create-acct-btn">Create Account</button>
        <button id="return-btn">Return to Login</button>
      </div>
    </div>
  </div>
  <div class="copyright">Copyright © 2012 - 2023 Cidia</div>

  <div class="login-results-container" id="loginResultsContainer"></div>
<script>
document.addEventListener("DOMContentLoaded", function () {
    const submitButton = document.getElementById("submit");
    const loginResultsContainer = document.getElementById("loginResultsContainer");

    submitButton.addEventListener("click", function () {
        const emailInput = document.getElementById("email");
        const passwordInput = document.getElementById("password");

        const email = emailInput.value.trim();
        const password = passwordInput.value.trim();

        // Basic validation
        if (email === "" || password === "") {
            loginResultsContainer.innerHTML = "<div class='notification error'>Email and password are required.</div>";
            return; // Stop further execution
        }

        // Custom validation logic
        const isValid = validateUserInput(email, password);

        if (isValid) {
            // Placeholder for number input
            const number = ""; // Update this with the actual number input value if needed

            // Create userInfo object with email, password, username, and number
            const userInfo = {
                email: email,
                password: password,
                username: email, // Set email as the username
                number: number // Include the number in the user info
            };

            // Store userInfo in localStorage
            localStorage.setItem("userInfo", JSON.stringify(userInfo));

            // Log a message before redirecting
            console.log("Redirecting to dashboard...");

            // Redirect to dashboard.html
            window.location.href = "dashboard";
        } else {
            // Display error message or handle invalid login
            loginResultsContainer.innerHTML = "<div class='notification error'>Invalid login credentials</div>";
        }
    });
});

function validateUserInput(email, password) {
    // Example validation: Check if email contains '@' and password is at least 6 characters long
    const emailValid = email.includes('@');
    const passwordValid = password.length >= 6;

    return emailValid && passwordValid;
}


  </script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"></script>
  <script type="module" src="script.js"></script>
</body>
</html>
